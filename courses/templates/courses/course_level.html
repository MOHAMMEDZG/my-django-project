{% extends 'courses/base.html' %}
{% load static %}
{% block title %} Ø§Ù„Ø¯Ø±ÙˆØ³ â€” {{ level_name }} {% endblock %}

{% block content %}

<link rel="stylesheet" href="{% static 'css/course_level.css' %}">
<div class="course-hero">
    <div class="hero-overlay"></div>
    <div class="hero-text animate__animated animate__fadeInRight">
        <h1>Ø¯Ø±ÙˆØ³ Ù…Ø³ØªÙˆÙ‰ {{ level_name }}</h1>
        <p>Ø§Ø®ØªØ± Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ùƒ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ùˆ Ø§Ù„ÙØ¦Ø©</p>
    </div>
</div>

<div class="container mt-5">

    <!-- ====== Ø§Ù„Ø¨Ø­Ø« ====== -->
    <form method="GET" class="search-box animate__animated animate__fadeInUp">
        <input type="text" name="q" value="{{ query }}" placeholder="ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ø¯Ø±Ø³..." class="search-input">
        <button type="submit" class="search-btn">Ø¨Ø­Ø«</button>
    </form>

    <!-- ====== Ø§Ù„Ø¨Ø§Ø± Ø¯ÙŠØ§Ù„ Ø§Ù„ÙƒØ§ØªÙŠØºÙˆØ±ÙŠ ====== -->
    <div class="categories-bar animate__animated animate__fadeInDown">
       <!-- Ø²Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¯Ø±ÙˆØ³ -->
<a href="?category=all"
class="category-chip {% if selected_category == 'all' %}active{% endif %}">
 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¯Ø±ÙˆØ³
</a>

<!-- Ø¨Ù‚ÙŠØ© Ø§Ù„ÙƒØ§ØªÙŠØºÙˆØ±ÙŠØ§Øª -->
{% for cat in categories %}
<a href="?category={{ cat.id }}"
class="category-chip {% if selected_category == cat.id|stringformat:'s' %}active{% endif %}">
 {{ cat.name }}
</a>
{% endfor %}
    </div>

    <!-- ====== Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¯Ø±ÙˆØ³ ====== -->
    <div class="row mt-4">
        {% for course in courses %}
        <div class="col-md-6 col-lg-4 mb-4 animate__animated animate__fadeInUp">
            <div class="course-card">
                {% if course.image %}
                    <img src="{{ course.image.url }}" class="course-img">
                {% endif %}
                <div class="course-info">
                    <h3>{{ course.title }}</h3>
                    <p>{{ course.description|truncatechars:100 }}</p>
                    <a class="btn-view" href="{% url 'course_detail' course.id %}">Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¯Ø±Ø³</a>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="col-12 text-center">
            <p class="text-danger fw-bold">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯Ø±ÙˆØ³ Ø­Ø§Ù„ÙŠØ§Ù‹.</p>
        </div>
        {% endfor %}
    </div>

</div>

{% endblock %}
